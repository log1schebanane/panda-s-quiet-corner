@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
CSS Variables
========================= */
:root {
  --scene-border: 0 0% 0%; /* Schwarz-Rahmen entfernt */
  --background: 0 0% 4%;
  --foreground: 45 20% 90%;

  --primary: 95 40% 45%;
  --primary-foreground: 0 0% 4%;
  --accent: 45 80% 55%;
  --firefly: 45 100% 65%;
  --firefly-glow: 45 100% 80%;
}

@layer base {
  /* ===== Fix Fullscreen + Safe-Area ===== */
  html, body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    background: hsl(var(--background));
    overflow: hidden;
    overscroll-behavior: none;
  }

  #root {
    width: 100%;
    height: 100%;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;
    background: hsl(var(--background));
  }

  /* Safe-Area Filler für iOS */
  body::before,
  body::after {
    content: "";
    position: fixed;
    left: 0;
    right: 0;
    background: hsl(var(--background));
    z-index: -1;
  }

  body::before {
    top: 0;
    height: env(safe-area-inset-top);
  }

  body::after {
    bottom: 0;
    height: env(safe-area-inset-bottom);
  }
}

/* ===== Scene Wrapper (PixelScene Container) ===== */
.scene-wrapper {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100dvh;
  display: flex;
  flex-direction: column;
  background: hsl(var(--background));
  overflow: hidden;
}

/* ===== Pixel Rendering ===== */
.pixel-perfect {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* ===== Animations ===== */
@keyframes breathe {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.008); }
}
.animate-breathe { animation: breathe 4s ease-in-out infinite; }

@keyframes gentle-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}
.animate-gentle-pulse { animation: gentle-pulse 0.6s ease-in-out; }

@keyframes scale-in {
  0% { opacity:0; transform:scale(0.9); }
  100% { opacity:1; transform:scale(1); }
}
.animate-scale-in { animation: scale-in 0.3s ease-out forwards; }

@keyframes scene-fade {
  0% { opacity: 0; }
  100% { opacity: 1; }
}
.animate-scene-fade { animation: scene-fade 1.5s ease-out forwards; }

@keyframes shimmer {
  0%,100% { opacity:0; }
  50% { opacity:0.4; }
}
.animate-shimmer { animation: shimmer 3s ease-in-out infinite; }

@keyframes firefly-float {
  0%,100% { transform: translate(0,0); opacity:0.3; }
  25% { transform: translate(3px,-5px); opacity:1; }
  50% { transform: translate(-2px,-8px); opacity:0.6; }
  75% { transform: translate(4px,-3px); opacity:0.9; }
}
.animate-firefly { animation: firefly-float 6s ease-in-out infinite; }

/* ===== Holiday Animations ===== */

/* Schneeflocken (Weihnachten) */
@keyframes snowfall {
  0% { transform: translateY(-20px) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
}
.animate-snowfall { animation: snowfall 5s linear infinite; }

/* Ostereier hüpfen */
@keyframes easter-bounce {
  0%, 100% { transform: translateY(0) rotate(-5deg); }
  50% { transform: translateY(-15px) rotate(5deg); }
}
.animate-easter-bounce { animation: easter-bounce 2s ease-in-out infinite; }

/* Herzen schweben (Valentinstag) */
@keyframes hearts-float {
  0% { transform: translateY(100vh) scale(0); opacity: 0; }
  10% { opacity: 1; transform: translateY(90vh) scale(1); }
  90% { opacity: 0.8; }
  100% { transform: translateY(-20px) scale(0.5); opacity: 0; }
}
.animate-hearts-float { animation: hearts-float 6s ease-in-out infinite; }

/* Feuerwerk (Silvester) */
@keyframes firework-burst {
  0%, 100% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.5); opacity: 1; }
  80% { transform: scale(1); opacity: 0.5; }
}
.animate-firework-burst { animation: firework-burst 2s ease-out infinite; }

/* ===== Idle Animation ===== */
@keyframes idle-sway {
  0%, 100% { transform: rotate(-1deg) translateX(-2px); }
  50% { transform: rotate(1deg) translateX(2px); }
}
.animate-idle { animation: idle-sway 3s ease-in-out infinite; }

@keyframes idle-blink {
  0%, 45%, 55%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}
.animate-idle-blink { animation: idle-blink 4s ease-in-out infinite; }

/* ===== Blumen-Seite Animationen ===== */
@keyframes rose-bloom {
  0% { transform: scale(0) rotate(-20deg); opacity: 0; }
  50% { transform: scale(1.2) rotate(10deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}
.animate-rose-bloom { animation: rose-bloom 1s ease-out forwards; }

@keyframes leaf-sway {
  0%, 100% { transform: rotate(-5deg); }
  50% { transform: rotate(5deg); }
}
.animate-leaf-sway { animation: leaf-sway 3s ease-in-out infinite; }

@keyframes subtle-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}
.animate-subtle-float { animation: subtle-float 4s ease-in-out infinite; }

@keyframes sparkle {
  0%, 100% { opacity: 0; transform: scale(0.5); }
  50% { opacity: 1; transform: scale(1); }
}
.animate-sparkle { animation: sparkle 2s ease-in-out infinite; }
